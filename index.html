<!DOCTYPE html>
<html lang="en">
<head>
    <script src="scripts.js"></script>
    <script src="https://accounts.google.com/gsi/client" async></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="48070837973-6js98s233sdoc4qdleqt4g160ch81uek.apps.googleusercontent.com">
    <meta http-equiv="Content-Security-Policy" content="
        script-src https://accounts.google.com/gsi/client;
        frame-src https://accounts.google.com/gsi/;
        connect-src https://accounts.google.com/gsi/;
        style-src 'self' https://accounts.google.com/gsi/style 'unsafe-inline' https://fonts.googleapis.com;">
    <title>Card Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/8983/8983569.png">
</head>
<body>
    <link rel="stylesheet" href="https://slaskecards.com/style.css">
    <div id="g_id_onload"
        data-client_id="48070837973-6js98s233sdoc4qdleqt4g160ch81uek.apps.googleusercontent.com"
        data-context="signin"
        data-ux_mode="popup"
        data-callback="onSignIn"
        data-auto_select="true"
        data-itp_support="false">
    </div>

    <div class="g_id_signin"
        data-type="standard"
        data-shape="pill"
        data-theme="filled_black"
        data-text="signin_with"
        data-size="large"
        data-logo_alignment="left">
    </div>
    <!-- Scoreboard -->
    <div id="scoreboard-container" style="display: none;">
        <div id="scoreboard">
            <p><span class="player-name">Player 1</span> Wins: <span id="score-player1">0</span></p>
            <p><span class="player-name">Player 2</span> Wins: <span id="score-player2">0</span></p>
        </div>
    </div>

    <button id="rules-btn" class="question-mark-btn">?</button>

    <div id="rules-container" class="hidden">
        <div id="rules-content">
            <button id="close-rules">Close</button>
            <h2>Game Rules</h2>
            
            <p><strong>Objective:</strong> Reduce your opponent's health to 0 by playing powerful hands.</p>
            
            <h3>Gameplay</h3>
            <ul>
                <li>Each player takes turns playing cards.</li>
                <li>Cards belong to one of four elements: Fire, Water, Earth, and Air.</li>
                <li>Upgrades can be purchased between rounds.</li>
            </ul>

            <h3>Damage Calculation</h3>
            <p>Your attack damage is based on poker hands. Each hand type has a multiplier:</p>
            <ul>
                <li><strong>High Card:</strong> Ã—1</li>
                <li><strong>Pair:</strong> Ã—2</li>
                <li><strong>Two Pair:</strong> Ã—2</li>
                <li><strong>Three of a Kind:</strong> Ã—3</li>
                <li><strong>Straight:</strong> Ã—4</li>
                <li><strong>Flush:</strong> Ã—4</li>
                <li><strong>Full House:</strong> Ã—4</li>
                <li><strong>Four of a Kind:</strong> Ã—7</li>
                <li><strong>Straight Flush:</strong> Ã—8</li>
                <li><strong>Royal Flush:</strong> Ã—10</li>
            </ul>
            <p><strong>Base damage</strong> is calculated from your card ranks and element modifiers.</p>
            <p><strong>Formula:</strong> (Sum of card values Ã— Element Modifier) Ã· 5 Ã— Multiplier.</p>

            <h3>Elemental Modifiers</h3>
            <p>If you have upgrades that boost a specific element, cards of that suit will deal extra damage.</p>

            <h3>How Money is Earned</h3>
            <ul>
                <li>Winning a round grants you <strong>gold</strong> based on the damage dealt.</li>
                <li>Higher poker hands = more damage = more gold.</li>
                <li>Gold can be spent on <strong>upgrades</strong> to improve your attacks.</li>
            </ul>

            <p>Good luck, and have fun!</p>
        </div>
    </div>



    
    <!-- Game screen -->
    <div id="game-container">
        <div id="game-setup">
            <label>Game ID: <input type="text" id="gameId"></label>
            <button onclick="createGame()">Create Game</button>
            <button onclick="joinGame()">Join Game</button>
        </div>
        <h2><span id="player-coins">ðŸª™0</span></h2>
        <div id="turn-indicator">Waiting for game to start...</div>
        <div class="health-bar-container">
            <div>
                <p>Player 1</p>
                <p id="player1-health">100/100</p>
                <div class="health-bar"><div id="health-player1" class="health-fill"></div></div>
            </div>
            <div>
                <p>Player 2</p>
                <p id="player2-health">100/100</p>
                <div class="health-bar"><div id="health-player2" class="health-fill"></div></div>
            </div>
        </div>
        <button id="play-hand-btn" onclick="playHand()" disabled>Play Hand</button>
        <button id="discard-btn" onclick="discard()" disabled>Discard (1)</button>
        <div id="card-container" class="card-container"></div>
        <div id="log"></div>
    </div>    
    
    <!-- Shop screen -->
    <div id="shop-container" style="display: none;">
        <h2>Upgrade Shop</h2>
        <p><span id="player-coins">ðŸª™0</span></p>
        <div id="shop-items" class="shop-upgrade-container"></div>
        <button onclick="leaveShop()">Continue to Next Game</button>
    </div>
    
    <!-- Upgrade container -->
    <div id="upgrade-container"></div>

</body>
</html>
